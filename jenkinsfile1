pipeline{
      agent any
      environment
      {
        registry = "iness22/qoentum"
        registryCredential = 'docker-hub'
        dockerImage = ''
      }
    stages {
        stage('Checkout GIT'){
          steps{
            echo 'Pulling...'
            git url: 'https://github.com/saiflabbaoui/QoentumDev.git' ;
          }
        }
        stage("Package")
          {
            steps
            { sh """mvn clean install""";
              echo'test'
            }
          }

        
}
sshPublisher(publishers: [sshPublisherDesc(configName: 'ansible-serveur', transfers: [sshTransfer(cleanRemote: false, excludes: '', execCommand: '', execTimeout: 120000, flatten: false, makeEmptyDirs: false, noDefaultExcludes: false, patternSeparator: '[, ]+', remoteDirectory: '//opt/docker', remoteDirectorySDF: false, removePrefix: '/var/lib/jenkins/jobs/DevQoentum/workspace/target/', sourceFiles: '/var/lib/jenkins/jobs/DevQoentum/workspace/target/qoentum.war')], usePromotionTimestamp: false, useWorkspaceInPromotion: false, verbose: false)])
}
